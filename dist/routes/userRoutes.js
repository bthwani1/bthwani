"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const verifyFirebase_1 = require("../middleware/verifyFirebase");
const userController_1 = require("../controllers/userController");
const addressController_1 = require("../controllers/addressController");
const walletController_1 = require("../controllers/walletController");
const socialController_1 = require("../controllers/socialController");
const extraUserController_1 = require("../controllers/extraUserController");
const favoritesController_1 = require("../controllers/favoritesController");
const notificationsController_1 = require("../controllers/notificationsController");
const router = (0, express_1.Router)();
router.post('/init', verifyFirebase_1.verifyFirebase, userController_1.registerOrUpdateUser);
router.get('/me', verifyFirebase_1.verifyFirebase, userController_1.getCurrentUser);
router.patch('/profile', verifyFirebase_1.verifyFirebase, userController_1.updateProfile);
router.patch('/security', verifyFirebase_1.verifyFirebase, userController_1.updateSecurity);
router.post('/address', verifyFirebase_1.verifyFirebase, addressController_1.addAddress);
router.patch('/address/:id', verifyFirebase_1.verifyFirebase, addressController_1.updateAddress);
router.delete('/address/:id', verifyFirebase_1.verifyFirebase, addressController_1.deleteAddress);
router.patch('/default-address', verifyFirebase_1.verifyFirebase, addressController_1.setDefaultAddress);
router.get('/wallet', verifyFirebase_1.verifyFirebase, walletController_1.getWallet);
router.get('/transactions', verifyFirebase_1.verifyFirebase, walletController_1.getTransactions);
router.patch('/blood-settings', verifyFirebase_1.verifyFirebase, extraUserController_1.updateBloodSettings);
router.patch('/freelancer-profile', verifyFirebase_1.verifyFirebase, extraUserController_1.updateFreelancerProfile);
router.post("/follow/:targetId", verifyFirebase_1.verifyFirebase, socialController_1.followUser);
router.delete("/unfollow/:targetId", verifyFirebase_1.verifyFirebase, socialController_1.unfollowUser);
router.get("/:id/followers", socialController_1.getFollowers);
router.get("/:id/following", socialController_1.getFollowing);
router.get("/activity", verifyFirebase_1.verifyFirebase, socialController_1.getActivityLog);
router.patch("/security/set-pin", verifyFirebase_1.verifyFirebase, userController_1.setPinCode);
router.patch("/security/verify-pin", verifyFirebase_1.verifyFirebase, userController_1.verifyPinCode);
router.post("/favorites/:itemId", verifyFirebase_1.verifyFirebase, favoritesController_1.addFavorite);
router.delete("/favorites/:itemId", verifyFirebase_1.verifyFirebase, favoritesController_1.removeFavorite);
router.get("/favorites", verifyFirebase_1.verifyFirebase, favoritesController_1.getFavorites);
router.get("/notifications", verifyFirebase_1.verifyFirebase, notificationsController_1.getNotifications);
router.patch("/notifications/mark-read", verifyFirebase_1.verifyFirebase, notificationsController_1.markAllNotificationsRead);
router.post("/wallet/transfer", verifyFirebase_1.verifyFirebase, walletController_1.transferFunds);
router.get("/wallet/transfer-history", verifyFirebase_1.verifyFirebase, walletController_1.getTransferHistory);
router.get("/me/stats", verifyFirebase_1.verifyFirebase, userController_1.getUserStats);
router.delete("/me/deactivate", verifyFirebase_1.verifyFirebase, userController_1.deactivateAccount);
router.get('/address', verifyFirebase_1.verifyFirebase, userController_1.getAddresses);
exports.default = router;
